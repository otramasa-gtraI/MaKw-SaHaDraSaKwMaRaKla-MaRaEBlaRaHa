<script>
  const glyphMap = {
    '◀▶': 'movement',
    '≡≠': 'conflict',
    '⊙': 'energy',
    '∆∇': 'creation',
    '⊗': 'power',
    '⇋': 'cycle',
    '⇕': 'duality',
    '§¶': 'knowledge',
    '▣▤': 'strength',
    '⌂↑': 'force',
    '≥≤': 'balance',
    '◊◦': 'path',
    '∎■': 'collapse'
  };

  const letterToGlyphMap = {
    a: '◀▶', b: '≡≠', c: '⊙', d: '∆∇', e: '⊗', f: '⇋', g: '⇕',
    h: '§¶', i: '▣▤', j: '⌂↑', k: '≥≤', l: '◊◦', m: '∎■', n: '◀▶',
    o: '≡≠', p: '⊙', q: '∆∇', r: '⊗', s: '⇋', t: '⇕', u: '§¶',
    v: '▣▤', w: '⌂↑', x: '≥≤', y: '◊◦', z: '∎■'
  };

  const pronunciationMap = {
    a: "Ahn", b: "Bra", c: "Cha", d: "Dra", e: "Ekk", f: "Fla",
    g: "Gla", h: "Hra", i: "Ikk", j: "Jra", k: "Kra", l: "Lla",
    m: "Mra", n: "Nra", o: "Ook", p: "Pla", q: "Kua", r: "Rra",
    s: "Sha", t: "Tra", u: "Urr", v: "Vra", w: "Wra", x: "Xka",
    y: "Yra", z: "Zla"
  };

  function handleTranslate() {
    const input = document.getElementById('input').value.trim().toLowerCase();
    const words = input.split(/\s+/);

    const pronunciation = input.split("").map(ch => pronunciationMap[ch] || ch).join("-");

    const glyphs = words.map(word => {
      const firstChar = word.charAt(0);
      return letterToGlyphMap[firstChar] || "??";
    });

    const meanings = glyphs.map(g => glyphMap[g]).filter(Boolean);
    const meaningText = meanings.length
      ? "It reflects: " + meanings.join(", ") + "."
      : "No recognizable glyph meanings.";

    document.getElementById("pronunciation-output").textContent = pronunciation;
    document.getElementById("glyph-output").textContent = glyphs.join(" ");
    document.getElementById("glyph-meaning-output").textContent = meaningText;
  }

  function copyText(id) {
    const text = document.getElementById(id).innerText;
    navigator.clipboard.writeText(text).then(() => {
      const notify = document.getElementById("copy-notify");
      notify.classList.add("show");
      setTimeout(() => notify.classList.remove("show"), 1500);
    });
  }

  const bg = document.getElementById("glyph-background");
  const glyphs = Object.keys(glyphMap);
  function createGlyphParticle() {
    const span = document.createElement("span");
    span.textContent = glyphs[Math.floor(Math.random() * glyphs.length)];
    span.style.left = Math.random() * 100 + "vw";
    span.style.top = Math.random() * 100 + "vh";
    span.style.animationDuration = (8 + Math.random() * 4) + "s";
    span.style.fontSize = (1 + Math.random() * 2) + "em";
    span.style.transform = "rotate(" + (Math.random() * 360) + "deg)";
    span.addEventListener("animationend", () => span.remove());
    bg.appendChild(span);
  }

  setInterval(createGlyphParticle, 250);
</script>

</html>
